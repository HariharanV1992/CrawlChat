2025-07-03 21:00:51,229 - src.services.storage_service - WARNING - S3 client not available - missing credentials for local environment
2025-07-03 21:01:04,914 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/hariharan2v/Downloads/crawlchat-api-function-c0fa3bc1-b31c-4de0-ade0-5cfb188494bf/venv/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-03 21:01:32,769 - src.services.chat_service - ERROR - Error making OpenAI request for general response: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-test-*********************ment. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-07-03 21:03:59,510 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/hariharan2v/Downloads/crawlchat-api-function-c0fa3bc1-b31c-4de0-ade0-5cfb188494bf/venv/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-03 21:04:41,401 - src.services.chat_service - ERROR - Error making OpenAI request for general response: An asyncio.Future, a coroutine or an awaitable is required
2025-07-03 21:14:49,658 - src.core.database - ERROR - MongoDB connection failed: No replica set members match selector "Primary()", Timeout: 15.0s, Topology Description: <TopologyDescription id: 6866a56166ac92735687c784, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('ac-9cyw31o-shard-00-00.doarsxf.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('ac-9cyw31o-shard-00-01.doarsxf.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.48144569199939724>, <ServerDescription ('ac-9cyw31o-shard-00-02.doarsxf.mongodb.net', 27017) server_type: Unknown, rtt: None>]>
2025-07-03 21:14:49,659 - src.services.auth_service - ERROR - Error creating default user: MongoDB not connected
2025-07-03 21:15:11,126 - src.core.database - ERROR - MongoDB connection failed: ac-9cyw31o-shard-00-02.doarsxf.mongodb.net:27017: The read operation timed out (configured timeouts: socketTimeoutMS: 15000.0ms, connectTimeoutMS: 15000.0ms)
2025-07-03 21:15:11,127 - src.services.auth_service - ERROR - Error creating default user: MongoDB not connected
2025-07-03 21:19:45,089 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/hariharan2v/Downloads/crawlchat-api-function-c0fa3bc1-b31c-4de0-ade0-5cfb188494bf/venv/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-03 21:23:04,620 - src.services.chat_service - ERROR - [AI] Error in fast document response generation: sequence item 0: expected str instance, dict found
2025-07-03 21:23:09,119 - src.services.chat_service - ERROR - Error making OpenAI request for general response: An asyncio.Future, a coroutine or an awaitable is required
2025-07-03 21:23:51,115 - src.services.chat_service - ERROR - [AI] Error in fast document response generation: sequence item 0: expected str instance, dict found
2025-07-03 21:24:06,221 - src.services.chat_service - ERROR - Error making OpenAI request for general response: An asyncio.Future, a coroutine or an awaitable is required
2025-07-03 21:36:29,604 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 21:36:40,402 - src.core.database - ERROR - MongoDB connection failed: The DNS query name does not exist: _mongodb._tcp.financedatongodb.net.
2025-07-03 21:36:40,402 - main - INFO - Database connection established
2025-07-03 21:36:40,403 - src.services.auth_service - ERROR - Error creating default user: MongoDB not connected
2025-07-03 21:36:40,403 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 21:37:11,242 - src.core.database - ERROR - MongoDB connection failed: The resolution lifetime expired after 17.007 seconds: Server Do53:127.0.0.53@53 answered The DNS operation timed out.; Server Do53:127.0.0.53@53 answered The DNS operation timed out.; Server Do53:127.0.0.53@53 answered The DNS operation timed out.; Server Do53:127.0.0.53@53 answered The DNS operation timed out.; Server Do53:127.0.0.53@53 answered The DNS operation timed out.; Server Do53:127.0.0.53@53 answered The DNS operation timed out.
2025-07-03 21:37:11,242 - src.services.storage_service - INFO - Storage type: mongodb
2025-07-03 21:37:11,242 - src.services.storage_service - INFO - S3 access key present: True
2025-07-03 21:37:11,242 - src.services.storage_service - INFO - S3 secret key present: True
2025-07-03 21:37:11,243 - src.services.storage_service - INFO - S3 bucket: stock-market-crawler-data
2025-07-03 21:37:11,243 - src.services.storage_service - INFO - S3 region: ap-south-1
2025-07-03 21:37:11,243 - src.services.storage_service - INFO - Running locally, using provided S3 credentials
2025-07-03 21:37:11,258 - src.services.storage_service - INFO - S3 client initialized successfully
2025-07-03 21:38:47,300 - main - INFO - Shutting down CrawlChat - AI Document Analysis Platform...
2025-07-03 21:38:58,075 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 21:39:16,526 - src.core.database - ERROR - MongoDB connection failed: SSL handshake failed: ac-9cyw31o-shard-00-02.doarsxf.mongodb.net:27017: _ssl.c:990: The handshake operation timed out (configured timeouts: socketTimeoutMS: 15000.0ms, connectTimeoutMS: 15000.0ms)
2025-07-03 21:39:16,526 - main - INFO - Database connection established
2025-07-03 21:39:16,527 - src.services.auth_service - ERROR - Error creating default user: MongoDB not connected
2025-07-03 21:39:16,527 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 21:39:51,335 - src.services.storage_service - INFO - Storage type: mongodb
2025-07-03 21:39:51,335 - src.services.storage_service - INFO - S3 access key present: True
2025-07-03 21:39:51,335 - src.services.storage_service - INFO - S3 secret key present: True
2025-07-03 21:39:51,336 - src.services.storage_service - INFO - S3 bucket: stock-market-crawler-data
2025-07-03 21:39:51,336 - src.services.storage_service - INFO - S3 region: ap-south-1
2025-07-03 21:39:51,336 - src.services.storage_service - INFO - Running locally, using provided S3 credentials
2025-07-03 21:39:51,343 - src.services.storage_service - INFO - S3 client initialized successfully
2025-07-03 21:39:51,807 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/hariharan2v/Downloads/crawlchat-api-function-c0fa3bc1-b31c-4de0-ade0-5cfb188494bf/venv/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-03 21:42:30,930 - main - INFO - Shutting down CrawlChat - AI Document Analysis Platform...
2025-07-03 21:42:36,432 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 21:42:42,254 - main - INFO - Database connection established
2025-07-03 21:42:42,727 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 21:42:45,941 - main - INFO - Shutting down CrawlChat - AI Document Analysis Platform...
2025-07-03 21:42:49,779 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 21:42:54,662 - main - INFO - Database connection established
2025-07-03 21:42:55,145 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 21:44:21,922 - main - INFO - Shutting down CrawlChat - AI Document Analysis Platform...
2025-07-03 21:44:43,137 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 21:44:50,220 - main - INFO - Database connection established
2025-07-03 21:44:50,698 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 21:44:59,339 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/hariharan2v/Downloads/crawlchat-api-function-c0fa3bc1-b31c-4de0-ade0-5cfb188494bf/venv/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-03 21:45:05,097 - src.services.chat_service - WARNING - Session 87bb1b13-e874-4ddb-a2b8-098edc549f37 not found for user 7320c5a4-8865-468c-a851-5edc3ad445e2
2025-07-03 21:45:06,779 - src.services.chat_service - WARNING - Invalid session_id provided: 'undefined'
2025-07-03 21:45:07,252 - src.services.chat_service - WARNING - Session 87bb1b13-e874-4ddb-a2b8-098edc549f37 not found for user 7320c5a4-8865-468c-a851-5edc3ad445e2
2025-07-03 21:45:07,731 - src.services.chat_service - WARNING - Invalid session_id provided: 'undefined'
2025-07-03 21:46:59,621 - src.services.storage_service - INFO - Storage type: mongodb
2025-07-03 21:46:59,621 - src.services.storage_service - INFO - S3 access key present: True
2025-07-03 21:46:59,622 - src.services.storage_service - INFO - S3 secret key present: True
2025-07-03 21:46:59,622 - src.services.storage_service - INFO - S3 bucket: stock-market-crawler-data
2025-07-03 21:46:59,622 - src.services.storage_service - INFO - S3 region: ap-south-1
2025-07-03 21:46:59,622 - src.services.storage_service - INFO - Running locally, using provided S3 credentials
2025-07-03 21:46:59,632 - src.services.storage_service - INFO - S3 client initialized successfully
2025-07-03 21:48:50,435 - src.services.chat_service - WARNING - Session 51acbdfb-1a06-412b-bb83-5b919e22d85c not found for user 7320c5a4-8865-468c-a851-5edc3ad445e2
2025-07-03 21:48:51,370 - src.services.chat_service - WARNING - Invalid session_id provided: 'undefined'
2025-07-03 21:48:51,834 - src.services.chat_service - WARNING - Session 51acbdfb-1a06-412b-bb83-5b919e22d85c not found for user 7320c5a4-8865-468c-a851-5edc3ad445e2
2025-07-03 21:48:52,304 - src.services.chat_service - WARNING - Invalid session_id provided: 'undefined'
2025-07-03 21:53:59,758 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:54:00,225 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:54:01,642 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:54:02,109 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:54:03,513 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:54:03,981 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:54:11,115 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:54:11,595 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:54:12,080 - src.api.v1.chat - INFO - [API] Creating chat session for user: 7320c5a4-8865-468c-a851-5edc3ad445e2
2025-07-03 21:54:12,550 - src.api.v1.chat - INFO - [API] Chat request for session: b9b9d60a-9520-4e92-b890-0751e6e662e4, user: 7320c5a4-8865-468c-a851-5edc3ad445e2, message: check
2025-07-03 21:54:13,976 - src.api.v1.chat - INFO - [API] Created chat session: a87eff5b-934e-43c7-b83f-84cbf25beebb for user: 7320c5a4-8865-468c-a851-5edc3ad445e2
2025-07-03 21:54:14,919 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:54:15,387 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:54:17,731 - src.services.vector_store_service - WARNING - OPENAI_API_KEY environment variable not found - vector store features will be disabled
2025-07-03 21:54:17,732 - src.services.vector_store_service - ERROR - [VECTOR_STORE] Error getting or creating session vector store: 'NoneType' object has no attribute 'vector_stores'
2025-07-03 21:54:17,732 - src.services.chat_service - ERROR - [AI] Error checking vector store files: 'NoneType' object has no attribute 'vector_stores'
2025-07-03 21:54:17,732 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Searching documents for: check...
2025-07-03 21:54:17,732 - src.services.vector_store_service - WARNING - OPENAI_API_KEY environment variable not found - vector store features will be disabled
2025-07-03 21:54:17,732 - src.services.vector_store_service - ERROR - [VECTOR_STORE] Error getting or creating session vector store: 'NoneType' object has no attribute 'vector_stores'
2025-07-03 21:54:17,732 - src.services.document_processing_service - ERROR - [DOC_PROCESSING] Error searching documents: 'NoneType' object has no attribute 'vector_stores'
2025-07-03 21:54:17,732 - src.services.chat_service - ERROR - [AI] Error in fast document response generation: 'NoneType' object has no attribute 'vector_stores'
2025-07-03 21:54:17,732 - src.services.chat_service - ERROR - OPENAI_API_KEY environment variable not found
2025-07-03 21:54:18,667 - src.api.v1.chat - INFO - [API] Chat completed for session: b9b9d60a-9520-4e92-b890-0751e6e662e4
2025-07-03 21:55:23,144 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:55:24,573 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:55:25,050 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:55:37,831 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:55:38,308 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:55:39,737 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:55:40,226 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:55:41,659 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:55:42,135 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:55:43,580 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:55:44,062 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 21:55:50,301 - src.services.chat_service - WARNING - Session undefined not found
2025-07-03 22:02:06,656 - main - INFO - Shutting down CrawlChat - AI Document Analysis Platform...
2025-07-03 22:02:13,683 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 22:02:18,856 - main - INFO - Database connection established
2025-07-03 22:02:19,297 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 22:02:22,571 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 22:02:38,504 - main - INFO - Database connection established
2025-07-03 22:02:38,951 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 22:02:46,473 - main - INFO - Shutting down CrawlChat - AI Document Analysis Platform...
2025-07-03 22:02:48,579 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 22:02:53,767 - main - INFO - Database connection established
2025-07-03 22:02:54,229 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 22:03:19,009 - main - INFO - Shutting down CrawlChat - AI Document Analysis Platform...
2025-07-03 22:03:26,654 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 22:03:32,211 - main - INFO - Database connection established
2025-07-03 22:03:32,655 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 22:03:36,982 - src.services.storage_service - INFO - Storage type: mongodb
2025-07-03 22:03:36,982 - src.services.storage_service - INFO - S3 access key present: True
2025-07-03 22:03:36,983 - src.services.storage_service - INFO - S3 secret key present: True
2025-07-03 22:03:36,983 - src.services.storage_service - INFO - S3 bucket: stock-market-crawler-data
2025-07-03 22:03:36,983 - src.services.storage_service - INFO - S3 region: ap-south-1
2025-07-03 22:03:36,983 - src.services.storage_service - INFO - Running locally, using provided S3 credentials
2025-07-03 22:03:36,993 - src.services.storage_service - INFO - S3 client initialized successfully
2025-07-03 22:04:33,663 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/hariharan2v/Downloads/crawlchat-api-function-c0fa3bc1-b31c-4de0-ade0-5cfb188494bf/venv/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-03 22:07:52,111 - main - INFO - Shutting down CrawlChat - AI Document Analysis Platform...
2025-07-03 22:08:01,958 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 22:08:07,713 - main - INFO - Database connection established
2025-07-03 22:08:08,179 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 22:08:11,141 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 22:08:15,934 - main - INFO - Database connection established
2025-07-03 22:08:16,395 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 22:08:36,754 - main - INFO - Shutting down CrawlChat - AI Document Analysis Platform...
2025-07-03 22:09:04,112 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 22:09:09,836 - main - INFO - Database connection established
2025-07-03 22:09:10,310 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 22:09:22,391 - src.services.storage_service - INFO - Storage type: mongodb
2025-07-03 22:09:22,391 - src.services.storage_service - INFO - S3 access key present: True
2025-07-03 22:09:22,391 - src.services.storage_service - INFO - S3 secret key present: True
2025-07-03 22:09:22,391 - src.services.storage_service - INFO - S3 bucket: stock-market-crawler-data
2025-07-03 22:09:22,391 - src.services.storage_service - INFO - S3 region: ap-south-1
2025-07-03 22:09:22,391 - src.services.storage_service - INFO - Running locally, using provided S3 credentials
2025-07-03 22:09:22,398 - src.services.storage_service - INFO - S3 client initialized successfully
2025-07-03 22:09:57,556 - src.api.v1.auth - ERROR - Error logging in user: ac-9cyw31o-shard-00-02.doarsxf.mongodb.net:27017: connection pool paused (configured timeouts: socketTimeoutMS: 15000.0ms, connectTimeoutMS: 15000.0ms)
2025-07-03 22:09:58,501 - src.api.v1.auth - ERROR - Error logging in user: operation cancelled
2025-07-03 22:11:03,305 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/hariharan2v/Downloads/crawlchat-api-function-c0fa3bc1-b31c-4de0-ade0-5cfb188494bf/venv/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-03 22:17:57,389 - main - INFO - Shutting down CrawlChat - AI Document Analysis Platform...
2025-07-03 22:18:30,018 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 22:18:53,130 - src.core.database - ERROR - MongoDB connection failed: SSL handshake failed: ac-9cyw31o-shard-00-02.doarsxf.mongodb.net:27017: _ssl.c:990: The handshake operation timed out (configured timeouts: socketTimeoutMS: 15000.0ms, connectTimeoutMS: 15000.0ms)
2025-07-03 22:18:53,130 - main - INFO - Database connection established
2025-07-03 22:18:53,131 - src.services.auth_service - ERROR - Error creating default user: MongoDB not connected
2025-07-03 22:18:53,131 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 22:19:24,653 - src.core.database - ERROR - MongoDB connection failed: No replica set members found yet, Timeout: 15.0s, Topology Description: <TopologyDescription id: 6866b48542f6a96c85a15924, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('ac-9cyw31o-shard-00-00.doarsxf.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('ac-9cyw31o-shard-00-01.doarsxf.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('ac-9cyw31o-shard-00-02.doarsxf.mongodb.net', 27017) server_type: Unknown, rtt: None>]>
2025-07-03 22:19:24,653 - src.services.storage_service - INFO - Storage type: mongodb
2025-07-03 22:19:24,653 - src.services.storage_service - INFO - S3 access key present: True
2025-07-03 22:19:24,653 - src.services.storage_service - INFO - S3 secret key present: True
2025-07-03 22:19:24,654 - src.services.storage_service - INFO - S3 bucket: stock-market-crawler-data
2025-07-03 22:19:24,654 - src.services.storage_service - INFO - S3 region: ap-south-1
2025-07-03 22:19:24,654 - src.services.storage_service - INFO - Running locally, using provided S3 credentials
2025-07-03 22:19:24,662 - src.services.storage_service - INFO - S3 client initialized successfully
2025-07-03 22:20:06,919 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/hariharan2v/Downloads/crawlchat-api-function-c0fa3bc1-b31c-4de0-ade0-5cfb188494bf/venv/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-03 22:21:09,154 - src.api.dependencies - ERROR - Error in get_current_user: 401: Invalid authentication credentials
2025-07-03 22:21:09,172 - src.api.dependencies - ERROR - Error in get_current_user: 401: Invalid authentication credentials
2025-07-03 22:21:09,186 - src.api.dependencies - ERROR - Error in get_current_user: 401: Invalid authentication credentials
2025-07-03 22:21:09,406 - src.api.v1.chat - WARNING - Invalid session_id provided: 'undefined'
2025-07-03 22:21:21,838 - src.api.v1.chat - INFO - [API] Creating chat session for user: 7320c5a4-8865-468c-a851-5edc3ad445e2
2025-07-03 22:21:22,285 - src.api.v1.chat - INFO - [API] Created chat session: a7d90707-e86e-4fbf-9327-b77b6a48b400 for user: 7320c5a4-8865-468c-a851-5edc3ad445e2
2025-07-03 22:21:31,207 - src.api.v1.chat - INFO - [API] Uploading document to session: a7d90707-e86e-4fbf-9327-b77b6a48b400, user: 7320c5a4-8865-468c-a851-5edc3ad445e2, filename: Namecheap.pdf
2025-07-03 22:21:36,316 - src.services.storage_service - INFO - Successfully uploaded 361791 bytes to S3: uploaded_documents/7320c5a4-8865-468c-a851-5edc3ad445e2/1751561491_da48ee5b.pdf
2025-07-03 22:21:36,317 - src.api.v1.chat - INFO - [DEBUG] API received s3_key: uploaded_documents/7320c5a4-8865-468c-a851-5edc3ad445e2/1751561491_da48ee5b.pdf
2025-07-03 22:21:36,317 - src.api.v1.chat - INFO - [DEBUG] s3_key type: <class 'str'>
2025-07-03 22:21:38,105 - src.services.storage_service - INFO - Storage type: mongodb
2025-07-03 22:21:38,105 - src.services.storage_service - INFO - S3 access key present: True
2025-07-03 22:21:38,105 - src.services.storage_service - INFO - S3 secret key present: True
2025-07-03 22:21:38,105 - src.services.storage_service - INFO - S3 bucket: stock-market-crawler-data
2025-07-03 22:21:38,106 - src.services.storage_service - INFO - S3 region: ap-south-1
2025-07-03 22:21:38,106 - src.services.storage_service - INFO - Running locally, using provided S3 credentials
2025-07-03 22:21:38,115 - src.services.storage_service - INFO - S3 client initialized successfully
2025-07-03 22:23:13,838 - src.services.storage_service - ERROR - Failed to get file from S3 bucket stock-market-crawler-data, key uploaded_documents/7320c5a4-8865-468c-a851-5edc3ad445e2/1751561491_da48ee5b.pdf: Read timeout on endpoint URL: "None"
2025-07-03 22:23:13,839 - src.services.chat_service - WARNING - [EMBEDDING] Could not read content for uploaded document: Namecheap.pdf
2025-07-03 22:23:24,987 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 22:23:38,260 - main - INFO - Database connection established
2025-07-03 22:23:38,717 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 22:23:43,652 - src.api.dependencies - ERROR - Error in get_current_user: 401: Invalid authentication credentials
2025-07-03 22:23:43,664 - src.api.dependencies - ERROR - Error in get_current_user: 401: Invalid authentication credentials
2025-07-03 22:23:43,677 - src.api.dependencies - ERROR - Error in get_current_user: 401: Invalid authentication credentials
2025-07-03 22:23:43,693 - src.api.dependencies - ERROR - Error in get_current_user: 401: Invalid authentication credentials
2025-07-03 22:23:49,673 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/hariharan2v/Downloads/crawlchat-api-function-c0fa3bc1-b31c-4de0-ade0-5cfb188494bf/venv/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-03 22:23:53,787 - src.api.v1.chat - INFO - [API] Creating chat session for user: 7320c5a4-8865-468c-a851-5edc3ad445e2
2025-07-03 22:23:54,245 - src.api.v1.chat - INFO - [API] Created chat session: 2e24abde-b110-4bc3-9e93-503a03cd8173 for user: 7320c5a4-8865-468c-a851-5edc3ad445e2
2025-07-03 22:24:02,671 - src.api.v1.chat - INFO - [API] Uploading document to session: 2e24abde-b110-4bc3-9e93-503a03cd8173, user: 7320c5a4-8865-468c-a851-5edc3ad445e2, filename: Namecheap.pdf
2025-07-03 22:24:03,128 - src.services.storage_service - INFO - Storage type: mongodb
2025-07-03 22:24:03,128 - src.services.storage_service - INFO - S3 access key present: True
2025-07-03 22:24:03,128 - src.services.storage_service - INFO - S3 secret key present: True
2025-07-03 22:24:03,128 - src.services.storage_service - INFO - S3 bucket: stock-market-crawler-data
2025-07-03 22:24:03,128 - src.services.storage_service - INFO - S3 region: ap-south-1
2025-07-03 22:24:03,128 - src.services.storage_service - INFO - Running locally, using provided S3 credentials
2025-07-03 22:24:03,132 - src.services.storage_service - INFO - S3 client initialized successfully
2025-07-03 22:24:15,532 - src.services.storage_service - INFO - Successfully uploaded 361791 bytes to S3: uploaded_documents/7320c5a4-8865-468c-a851-5edc3ad445e2/1751561643_c60f8f4e.pdf
2025-07-03 22:24:15,532 - src.api.v1.chat - INFO - [DEBUG] API received s3_key: uploaded_documents/7320c5a4-8865-468c-a851-5edc3ad445e2/1751561643_c60f8f4e.pdf
2025-07-03 22:24:15,532 - src.api.v1.chat - INFO - [DEBUG] s3_key type: <class 'str'>
2025-07-03 22:24:18,790 - src.services.storage_service - INFO - Storage type: mongodb
2025-07-03 22:24:18,790 - src.services.storage_service - INFO - S3 access key present: True
2025-07-03 22:24:18,790 - src.services.storage_service - INFO - S3 secret key present: True
2025-07-03 22:24:18,790 - src.services.storage_service - INFO - S3 bucket: stock-market-crawler-data
2025-07-03 22:24:18,790 - src.services.storage_service - INFO - S3 region: ap-south-1
2025-07-03 22:24:18,791 - src.services.storage_service - INFO - Running locally, using provided S3 credentials
2025-07-03 22:24:18,802 - src.services.storage_service - INFO - S3 client initialized successfully
2025-07-03 22:26:11,309 - src.services.storage_service - ERROR - Failed to get file from S3 bucket stock-market-crawler-data, key uploaded_documents/7320c5a4-8865-468c-a851-5edc3ad445e2/1751561643_c60f8f4e.pdf: Read timeout on endpoint URL: "None"
2025-07-03 22:26:16,682 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Processing document: Namecheap.pdf
2025-07-03 22:26:22,186 - src.services.vector_store_service - INFO - [VECTOR_STORE] Creating vector store: Session_2e24abde_Data
2025-07-03 22:26:23,141 - src.services.vector_store_service - INFO - [VECTOR_STORE] Created vector store with ID: vs_6866b636e258819193b42f662fc35344
2025-07-03 22:26:23,141 - src.services.vector_store_service - INFO - [VECTOR_STORE] Created new session vector store: vs_6866b636e258819193b42f662fc35344
2025-07-03 22:26:23,141 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Using session-specific vector store: vs_6866b636e258819193b42f662fc35344
2025-07-03 22:26:23,141 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Content preview for Namecheap.pdf: Could not read PDF file: Namecheap.pdf
2025-07-03 22:26:23,144 - src.services.vector_store_service - INFO - [VECTOR_STORE] Uploading file: /tmp/Namecheap.pdf_bb552017.txt
2025-07-03 22:26:26,410 - src.services.vector_store_service - INFO - [VECTOR_STORE] Successfully uploaded file: file-4ifG8x5PAF3NBzeekrK2Wd
2025-07-03 22:26:26,875 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Successfully processed document: Namecheap.pdf
2025-07-03 22:26:28,252 - src.api.v1.chat - INFO - [API] Document uploaded successfully: 55e3aa25-a799-42f4-bf7a-d5ddf1286570
2025-07-03 22:26:28,349 - main - INFO - Shutting down CrawlChat - AI Document Analysis Platform...
2025-07-03 22:26:30,968 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 22:26:52,481 - src.core.database - ERROR - MongoDB connection failed: ac-9cyw31o-shard-00-02.doarsxf.mongodb.net:27017: The read operation timed out (configured timeouts: socketTimeoutMS: 15000.0ms, connectTimeoutMS: 15000.0ms)
2025-07-03 22:26:52,482 - main - INFO - Database connection established
2025-07-03 22:26:52,482 - src.services.auth_service - ERROR - Error creating default user: MongoDB not connected
2025-07-03 22:26:52,483 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 22:28:31,501 - main - INFO - Shutting down CrawlChat - AI Document Analysis Platform...
2025-07-03 22:28:59,899 - root - INFO - Logging configured - Level: INFO, File: ./logs/app.log
2025-07-03 22:29:20,556 - src.core.database - ERROR - MongoDB connection failed: No replica set members found yet, Timeout: 15.0s, Topology Description: <TopologyDescription id: 6866b6d3baa717665ad24063, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('ac-9cyw31o-shard-00-00.doarsxf.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('ac-9cyw31o-shard-00-01.doarsxf.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('ac-9cyw31o-shard-00-02.doarsxf.mongodb.net', 27017) server_type: Unknown, rtt: None>]>
2025-07-03 22:29:20,557 - main - INFO - Database connection established
2025-07-03 22:29:20,557 - src.services.auth_service - ERROR - Error creating default user: MongoDB not connected
2025-07-03 22:29:20,557 - main - INFO - CrawlChat - AI Document Analysis Platform started successfully
2025-07-03 22:29:57,056 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/hariharan2v/Downloads/crawlchat-api-function-c0fa3bc1-b31c-4de0-ade0-5cfb188494bf/venv/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-03 22:30:29,246 - src.api.v1.chat - INFO - [API] Creating chat session for user: 7320c5a4-8865-468c-a851-5edc3ad445e2
2025-07-03 22:30:29,706 - src.api.v1.chat - INFO - [API] Created chat session: 04da9c2b-703c-4e9c-9920-891e70e3ba2e for user: 7320c5a4-8865-468c-a851-5edc3ad445e2
2025-07-03 22:30:57,019 - src.api.v1.chat - INFO - [API] Uploading document to session: 04da9c2b-703c-4e9c-9920-891e70e3ba2e, user: 7320c5a4-8865-468c-a851-5edc3ad445e2, filename: Namecheap.pdf
2025-07-03 22:30:57,480 - src.services.storage_service - INFO - Storage type: mongodb
2025-07-03 22:30:57,480 - src.services.storage_service - INFO - S3 access key present: True
2025-07-03 22:30:57,480 - src.services.storage_service - INFO - S3 secret key present: True
2025-07-03 22:30:57,480 - src.services.storage_service - INFO - S3 bucket: stock-market-crawler-data
2025-07-03 22:30:57,480 - src.services.storage_service - INFO - S3 region: ap-south-1
2025-07-03 22:30:57,480 - src.services.storage_service - INFO - Running locally, using provided S3 credentials
2025-07-03 22:30:57,494 - src.services.storage_service - INFO - S3 client initialized successfully
2025-07-03 22:31:42,838 - src.services.storage_service - INFO - Successfully uploaded 361791 bytes to S3: uploaded_documents/7320c5a4-8865-468c-a851-5edc3ad445e2/1751562057_25be3202.pdf
2025-07-03 22:31:42,838 - src.api.v1.chat - INFO - [DEBUG] API received s3_key: uploaded_documents/7320c5a4-8865-468c-a851-5edc3ad445e2/1751562057_25be3202.pdf
2025-07-03 22:31:42,838 - src.api.v1.chat - INFO - [DEBUG] s3_key type: <class 'str'>
2025-07-03 22:31:49,782 - src.services.storage_service - INFO - Storage type: mongodb
2025-07-03 22:31:49,782 - src.services.storage_service - INFO - S3 access key present: True
2025-07-03 22:31:49,782 - src.services.storage_service - INFO - S3 secret key present: True
2025-07-03 22:31:49,782 - src.services.storage_service - INFO - S3 bucket: stock-market-crawler-data
2025-07-03 22:31:49,782 - src.services.storage_service - INFO - S3 region: ap-south-1
2025-07-03 22:31:49,782 - src.services.storage_service - INFO - Running locally, using provided S3 credentials
2025-07-03 22:31:49,788 - src.services.storage_service - INFO - S3 client initialized successfully
2025-07-03 22:33:36,615 - src.services.storage_service - ERROR - Failed to get file from S3 bucket stock-market-crawler-data, key uploaded_documents/7320c5a4-8865-468c-a851-5edc3ad445e2/1751562057_25be3202.pdf: Read timeout on endpoint URL: "None"
2025-07-03 22:33:40,169 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Processing document: Namecheap.pdf
2025-07-03 22:33:40,634 - src.api.v1.chat - INFO - [API] Chat request for session: 2e24abde-b110-4bc3-9e93-503a03cd8173, user: 7320c5a4-8865-468c-a851-5edc3ad445e2, message: what is lowest pricec in namecheap
2025-07-03 22:33:45,193 - src.services.vector_store_service - INFO - [VECTOR_STORE] Creating vector store: Session_04da9c2b_Data
2025-07-03 22:33:45,669 - src.services.vector_store_service - INFO - [VECTOR_STORE] Created vector store with ID: vs_6866b7f16c3881918433541e4ab2067f
2025-07-03 22:33:45,669 - src.services.vector_store_service - INFO - [VECTOR_STORE] Created new session vector store: vs_6866b7f16c3881918433541e4ab2067f
2025-07-03 22:33:45,669 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Using session-specific vector store: vs_6866b7f16c3881918433541e4ab2067f
2025-07-03 22:33:45,669 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Content preview for Namecheap.pdf: Could not read PDF file: Namecheap.pdf
2025-07-03 22:33:45,670 - src.services.vector_store_service - INFO - [VECTOR_STORE] Uploading file: /tmp/Namecheap.pdf_2a34e532.txt
2025-07-03 22:33:52,319 - src.services.vector_store_service - INFO - [VECTOR_STORE] Successfully uploaded file: file-SRPLrwcDDpf7CHva6Sewyh
2025-07-03 22:33:52,784 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Successfully processed document: Namecheap.pdf
2025-07-03 22:33:58,657 - src.api.v1.chat - INFO - [API] Document uploaded successfully: 3762f64f-9325-486c-b05b-5fe32ad170df
2025-07-03 22:34:01,900 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Searching documents for: what is lowest pricec in namecheap Namecheap...
2025-07-03 22:34:03,713 - src.services.vector_store_service - INFO - [VECTOR_STORE] Using existing session vector store: vs_6866b636e258819193b42f662fc35344
2025-07-03 22:34:03,713 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Searching in session-specific vector store: vs_6866b636e258819193b42f662fc35344
2025-07-03 22:34:03,713 - src.services.vector_store_service - INFO - [VECTOR_STORE] Searching for: what is lowest pricec in namecheap Namecheap...
2025-07-03 22:34:04,194 - src.services.vector_store_service - INFO - [VECTOR_STORE] Vector store has 1 files before search
2025-07-03 22:34:04,194 - src.services.vector_store_service - INFO - [VECTOR_STORE] File: Unknown - Status: completed
2025-07-03 22:34:04,194 - src.services.vector_store_service - INFO - [VECTOR_STORE] 1/1 files are processed and ready for search
2025-07-03 22:34:04,194 - src.services.vector_store_service - INFO - [VECTOR_STORE] Files are processed, adding 1 second delay to ensure readiness
2025-07-03 22:34:05,195 - src.services.vector_store_service - INFO - [VECTOR_STORE] Search params: {'vector_store_id': 'vs_6866b636e258819193b42f662fc35344', 'query': 'what is lowest pricec in namecheap Namecheap', 'max_num_results': 15, 'rewrite_query': True, 'ranking_options': {'score_threshold': 0.2}}
2025-07-03 22:34:09,041 - src.services.vector_store_service - INFO - [VECTOR_STORE] Search API call successful (attempt 1)
2025-07-03 22:34:09,041 - src.services.vector_store_service - INFO - [VECTOR_STORE] Found 0 results
2025-07-03 22:34:09,041 - src.services.vector_store_service - INFO - [VECTOR_STORE] Results data type: <class 'list'>
2025-07-03 22:34:09,042 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Searching documents for: what is lowest pricec in namecheap Namecheap...
2025-07-03 22:34:09,042 - src.services.vector_store_service - INFO - [VECTOR_STORE] Using cached session vector store: vs_6866b636e258819193b42f662fc35344
2025-07-03 22:34:09,042 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Searching in session-specific vector store: vs_6866b636e258819193b42f662fc35344
2025-07-03 22:34:09,042 - src.services.vector_store_service - INFO - [VECTOR_STORE] Searching for: what is lowest pricec in namecheap Namecheap...
2025-07-03 22:34:09,478 - src.services.vector_store_service - INFO - [VECTOR_STORE] Vector store has 1 files before search
2025-07-03 22:34:09,478 - src.services.vector_store_service - INFO - [VECTOR_STORE] File: Unknown - Status: completed
2025-07-03 22:34:09,478 - src.services.vector_store_service - INFO - [VECTOR_STORE] 1/1 files are processed and ready for search
2025-07-03 22:34:09,479 - src.services.vector_store_service - INFO - [VECTOR_STORE] Files are processed, adding 1 second delay to ensure readiness
2025-07-03 22:34:10,478 - src.services.vector_store_service - INFO - [VECTOR_STORE] Search params: {'vector_store_id': 'vs_6866b636e258819193b42f662fc35344', 'query': 'what is lowest pricec in namecheap Namecheap', 'max_num_results': 15, 'rewrite_query': True, 'ranking_options': {'score_threshold': 0.15}}
2025-07-03 22:34:12,585 - src.services.vector_store_service - INFO - [VECTOR_STORE] Search API call successful (attempt 1)
2025-07-03 22:34:12,585 - src.services.vector_store_service - INFO - [VECTOR_STORE] Found 0 results
2025-07-03 22:34:12,586 - src.services.vector_store_service - INFO - [VECTOR_STORE] Results data type: <class 'list'>
2025-07-03 22:34:12,586 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Searching documents for: what is lowest pricec in namecheap Namecheap...
2025-07-03 22:34:12,586 - src.services.vector_store_service - INFO - [VECTOR_STORE] Using cached session vector store: vs_6866b636e258819193b42f662fc35344
2025-07-03 22:34:12,586 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Searching in session-specific vector store: vs_6866b636e258819193b42f662fc35344
2025-07-03 22:34:12,586 - src.services.vector_store_service - INFO - [VECTOR_STORE] Searching for: what is lowest pricec in namecheap Namecheap...
2025-07-03 22:34:13,127 - src.services.vector_store_service - INFO - [VECTOR_STORE] Vector store has 1 files before search
2025-07-03 22:34:13,128 - src.services.vector_store_service - INFO - [VECTOR_STORE] File: Unknown - Status: completed
2025-07-03 22:34:13,128 - src.services.vector_store_service - INFO - [VECTOR_STORE] 1/1 files are processed and ready for search
2025-07-03 22:34:13,128 - src.services.vector_store_service - INFO - [VECTOR_STORE] Files are processed, adding 1 second delay to ensure readiness
2025-07-03 22:34:14,128 - src.services.vector_store_service - INFO - [VECTOR_STORE] Search params: {'vector_store_id': 'vs_6866b636e258819193b42f662fc35344', 'query': 'what is lowest pricec in namecheap Namecheap', 'max_num_results': 15, 'rewrite_query': True, 'ranking_options': {'score_threshold': 0.1}}
2025-07-03 22:34:16,313 - src.services.vector_store_service - INFO - [VECTOR_STORE] Search API call successful (attempt 1)
2025-07-03 22:34:16,313 - src.services.vector_store_service - INFO - [VECTOR_STORE] Found 0 results
2025-07-03 22:34:16,313 - src.services.vector_store_service - INFO - [VECTOR_STORE] Results data type: <class 'list'>
2025-07-03 22:34:16,314 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Searching documents for: what is lowest pricec in namecheap Namecheap...
2025-07-03 22:34:16,314 - src.services.vector_store_service - INFO - [VECTOR_STORE] Using cached session vector store: vs_6866b636e258819193b42f662fc35344
2025-07-03 22:34:16,314 - src.services.document_processing_service - INFO - [DOC_PROCESSING] Searching in session-specific vector store: vs_6866b636e258819193b42f662fc35344
2025-07-03 22:34:16,314 - src.services.vector_store_service - INFO - [VECTOR_STORE] Searching for: what is lowest pricec in namecheap Namecheap...
2025-07-03 22:34:17,370 - src.services.vector_store_service - INFO - [VECTOR_STORE] Vector store has 1 files before search
2025-07-03 22:34:17,370 - src.services.vector_store_service - INFO - [VECTOR_STORE] File: Unknown - Status: completed
2025-07-03 22:34:17,370 - src.services.vector_store_service - INFO - [VECTOR_STORE] 1/1 files are processed and ready for search
2025-07-03 22:34:17,370 - src.services.vector_store_service - INFO - [VECTOR_STORE] Files are processed, adding 1 second delay to ensure readiness
2025-07-03 22:34:18,370 - src.services.vector_store_service - INFO - [VECTOR_STORE] Search params: {'vector_store_id': 'vs_6866b636e258819193b42f662fc35344', 'query': 'what is lowest pricec in namecheap Namecheap', 'max_num_results': 15, 'rewrite_query': True, 'ranking_options': {'score_threshold': 0.05}}
2025-07-03 22:34:20,412 - src.services.vector_store_service - INFO - [VECTOR_STORE] Search API call successful (attempt 1)
2025-07-03 22:34:20,412 - src.services.vector_store_service - INFO - [VECTOR_STORE] Found 1 results
2025-07-03 22:34:20,412 - src.services.vector_store_service - INFO - [VECTOR_STORE] Results data type: <class 'list'>
2025-07-03 22:34:20,415 - src.services.vector_store_service - INFO - [VECTOR_STORE] First result keys: ['attributes', 'content', 'file_id', 'filename', 'score']
2025-07-03 22:34:23,558 - src.api.v1.chat - INFO - [API] Chat completed for session: 2e24abde-b110-4bc3-9e93-503a03cd8173
